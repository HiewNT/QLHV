@{
    ViewData["Title"] = "Danh sách học viên Lào";
}

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-primary">
            <i class="bi bi-flag me-2"></i>@ViewData["Title"]
        </h2>
        <a asp-action="Create" class="btn btn-success">
            <i class="bi bi-plus-circle me-1"></i>Thêm học viên Lào
        </a>
    </div>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <div class="card shadow border-0">
        <div class="card-header bg-light py-3">
            <h5 class="card-title mb-0 text-primary">
                <i class="bi bi-table me-2"></i>Danh sách học viên Lào
            </h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table id="hocVienLaoTable" class="table table-striped table-bordered align-middle" style="width:100%">
                    <thead class="table-primary">
                        <tr>
                            <th>Họ và tên</th>
                            <th>Ngày sinh</th>
                            <th>Cấp bậc</th>
                            <th>Trình độ</th>
                            <th>Chuyên ngành đào tạo</th>
                            <th>Khóa</th>
                            <th>Đơn vị</th>
                            <th>Năm nhập học</th>
                            <th>Năm tốt nghiệp</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#hocVienLaoTable').DataTable({
                "processing": true,
                "serverSide": false,
                "ajax": {
                    "url": "@Url.Action("GetData")",
                    "type": "GET"
                },
                "columns": [
                    { "data": "hoTen" },
                    { "data": "ngaySinh" },
                    { "data": "capBac" },
                    { "data": "trinhDo" },
                    { "data": "chuyenNganh" },
                    { "data": "khoaHoc" },
                    { "data": "donVi" },
                    { "data": "ngayNhapHoc" },
                    { "data": "ngayTotNghiep" },
                    {
                        "data": "maHocVien",
                        "render": function(data, type, row) {
                            return '<div class="btn-group btn-group-sm" role="group">' +
                                '<a href="@Url.Action("Details")/' + data + '" class="btn btn-outline-info" title="Chi tiết">' +
                                '<i class="bi bi-eye"></i></a>' +
                                '<a href="@Url.Action("Edit")/' + data + '" class="btn btn-outline-primary" title="Sửa">' +
                                '<i class="bi bi-pencil"></i></a>' +
                                '<a href="@Url.Action("Delete")/' + data + '" class="btn btn-outline-danger" title="Xóa">' +
                                '<i class="bi bi-trash"></i></a>' +
                                '</div>';
                        },
                        "orderable": false
                    }
                ],
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.13.7/i18n/vi.json"
                },
                "pageLength": 25,
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "Tất cả"]],
                "responsive": true,
                "scrollX": true,
                "order": [[0, "asc"]]
            });
        });
    </script>
}
